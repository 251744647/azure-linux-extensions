diff -Naur hooks.orig/cryptroot hooks/cryptroot
--- hooks.orig/cryptroot	2016-07-22 00:28:33.079103643 +0000
+++ hooks/cryptroot	2016-07-22 00:27:38.464712385 +0000
@@ -1,5 +1,7 @@
 #!/bin/sh
 
+set -x
+
 PREREQ=""
 
 prereqs()
@@ -521,14 +523,14 @@
 				mkdir -p "$DESTDIR/conf/conf.d/cryptheader"
 			fi
 
-			#if [ -e "$CONFDIR/conf.d/cryptheader/$CRYPTHEADER" ]; then
-			#	copy_exec "$CONFDIR/conf.d/cryptheader/$CRYPTHEADER" /conf/conf.d/cryptheader >&2
-			#elif [ -e "$CRYPTHEADER" ]; then
-			#	copy_exec "$CRYPTHEADER" /conf/conf.d/cryptheader >&2
-			#else
-			#	echo "cryptsetup: WARNING: failed to find LUKS header $CRYPTHEADER" >&2
-			#	continue
-			#fi
+			if [ -e "$CONFDIR/conf.d/cryptheader/$CRYPTHEADER" ]; then
+				copy_exec "$CONFDIR/conf.d/cryptheader/$CRYPTHEADER" /conf/conf.d/cryptheader >&2
+			elif [ -e "$CRYPTHEADER" ]; then
+				copy_exec "$CRYPTHEADER" /conf/conf.d/cryptheader >&2
+			else
+				echo "cryptsetup: WARNING: failed to find LUKS header $CRYPTHEADER" >&2
+				continue
+			fi
 		fi
 		
 
@@ -627,6 +629,9 @@
 	if [ -z "$rootdevs" ]; then
 		echo "cryptsetup: WARNING: could not determine root device from /etc/fstab" >&2
 	fi
+	if ! echo "$rootdevs" | grep -q "osencrypt"; then
+		rootdevs="$rootdevs osencrypt"
+	fi
 	usrdevs=$(get_fs_devices /usr)
 	resumedevs=$(get_resume_devices)
 	initramfsdevs=$(get_initramfs_devices)
